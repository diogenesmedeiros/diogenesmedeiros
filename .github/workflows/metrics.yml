# Visit https://github.com/lowlighter/metrics#-documentation for full reference
name: GitHub Metrics

on:
    schedule:
        - cron: "0 0 * * *"

    workflow_dispatch:
    push:
        branches: ["main", "master"]

jobs:
    build:
        runs-on: ubuntu-latest
        permissions:
            contents: write

        steps:
            - name: Generate GitHub Metrics
              uses: lowlighter/metrics@latest
              with:
                  token: ${{ secrets.METRICS_TOKEN }}

                  user: diogenesmedeiros
                  template: classic
                  config_timezone: America/Sao_Paulo

                  plugin_isocalendar: yes
                  plugin_isocalendar_duration: full-year

                  plugin_contributions: yes
                  plugin_contributions_sections: total, commits, issues, pull_requests, reviews

                  plugin_streak: yes

                  plugin_languages: no

                  plugin_lines: yes
                  plugin_lines_history_limit: 1
                  plugin_lines_repositories_limit: 4
                  plugin_lines_sections: base

                  plugin_repositories: yes
                  plugin_repositories_limit: 6
                  plugin_repositories_sort_by: updated
                  plugin_repositories_ignore_starred: yes
                  plugin_repositories_ignore_with_stars: yes